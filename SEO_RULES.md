# MoneyQuest SEO Rules - Permanent Configuration

> **IMPORTANT**: These rules are PERMANENT and apply automatically to ALL new content. No manual prompts needed.

## üìç Quick Reference

| Page Type | Priority | Changefreq | Example |
|-----------|----------|------------|---------|
| Homepage | 1.0 | daily | `/` |
| Landing Pages | 0.9 | weekly | `/controle-financeiro` |
| Blog Index | 0.9 | daily | `/blog` |
| **Pillar** Articles | 0.85 | weekly | `/blog/controle-financeiro-pessoal` |
| **Satellite** Articles | 0.75 | monthly | `/blog/como-controlar-gastos-mensais` |
| **Long-tail** Articles | 0.68 | monthly | `/blog/app-financeiro-gamificado` |
| Author Pages | 0.55 | monthly | `/autor/equipe-moneyquest` |
| Legal Pages | 0.4 | yearly | `/terms`, `/privacy` |

---

## 1Ô∏è‚É£ Sitemap Automation

The sitemap is **100% dynamic** and generated by a Supabase Edge Function.

### Sources (in order):
1. Static public pages from `INDEXABLE_ROUTES` (routeConfig.ts)
2. Blog articles from `blogData.ts` (with `articleType` field)
3. Blog articles from database (`blog_articles_generated` table)
4. Author pages from `authorData.ts`

### Adding New Content:

**New Public Page:**
1. Add route to `src/lib/routeConfig.ts` ‚Üí `INDEXABLE_ROUTES`
2. Add to `supabase/functions/sitemap/index.ts` ‚Üí `STATIC_INDEXABLE_PAGES`

**New Blog Article:**
1. Add article to `src/lib/blogData.ts` with **mandatory** `articleType` field
2. Add to `supabase/functions/sitemap/index.ts` ‚Üí `BLOG_ARTICLES`

**New Author:**
1. Add author to `src/lib/authorData.ts`
2. Add to `supabase/functions/sitemap/index.ts` ‚Üí `AUTHORS`

---

## 2Ô∏è‚É£ Article Classification (MANDATORY)

Every article **MUST** have:

```typescript
articleType: "pillar" | "satellite" | "longtail"
```

### Types:
- **pillar**: Main cluster article (authority content, 2000+ words)
- **satellite**: Supporting cluster content (links to pillar)
- **longtail**: Specific keyword targeting

---

## 3Ô∏è‚É£ Permanent Exclusions

**NEVER include in sitemap:**
- `/login`, `/signup` (noindex public)
- `/dashboard`, `/settings`, `/profile` (authenticated)
- `/premium`, `/upgrade`, `/onboarding` (system)
- `/r/*` (referral redirects)
- `/admin/*`, `/super-admin/*` (admin)
- `/debug-*` (debug pages)

---

## 4Ô∏è‚É£ Internal Linking Rules

### Satellite/Long-tail ‚Üí Pillar:
- **MUST** link to pillar article in first 2 paragraphs
- Use semantic anchor text (e.g., "guia completo de controle financeiro")

### Related Articles Section:
- Pillar article **always first**
- Maximum 3 articles
- Internal links **always** open in same tab

---

## 5Ô∏è‚É£ Link Behavior

| Link Type | Behavior |
|-----------|----------|
| Internal (relative path) | Same tab, no `target="_blank"` |
| Internal (moneyquest.app.br) | Same tab, no `target="_blank"` |
| External (other domains) | `target="_blank" rel="noopener noreferrer"` |

---

## 6Ô∏è‚É£ Technical SEO

All public pages **MUST** have:
- ‚úÖ Absolute canonical URL (`https://moneyquest.app.br/...`)
- ‚úÖ Indexing enabled (no noindex for public pages)
- ‚úÖ Breadcrumb JSON-LD (when applicable)
- ‚úÖ Article JSON-LD (for blog articles)
- ‚úÖ Author JSON-LD (for author pages)

---

## 7Ô∏è‚É£ Files Reference

| Purpose | File |
|---------|------|
| SEO Rules (TypeScript) | `src/lib/seoRules.ts` |
| SEO Audit System | `src/lib/seoAudit.ts` |
| Audit Hook | `src/hooks/useSEOAudit.tsx` |
| Audit Debug Panel | `src/components/debug/SEOAuditPanel.tsx` |
| Route Configuration | `src/lib/routeConfig.ts` |
| Sitemap Generation | `supabase/functions/sitemap/index.ts` |
| Blog Articles | `src/lib/blogData.ts` |
| Authors | `src/lib/authorData.ts` |
| SEO Hook | `src/hooks/useSEO.tsx` |
| Robots.txt | `public/robots.txt` |

---

## 8Ô∏è‚É£ SEO Audit System (NEW)

### Automatic Checks:
- **Canonical**: Absolute URL, no preview/localhost
- **Indexation**: Public = indexable, auth = noindex
- **Sitemap**: All public pages present, correct priority
- **Hierarchy**: articleType exists, satellite links to pillar
- **Linking**: Internal links same tab, external with _blank
- **PWA**: Navigation works in same tab

### Debug Page:
Access `/debug-seo` ‚Üí "Auditoria Completa" tab

---

## 9Ô∏è‚É£ Continuity Rule

These rules:
- ‚ùå Are NOT one-time configurations
- ‚ùå Do NOT depend on new prompts
- ‚úÖ MUST be applied automatically to any new content

**Whenever new content is created, SEO adjusts automatically.**
